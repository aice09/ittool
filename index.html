<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Battery Capacity Calculator</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .result-box {
      border: 1px solid #ddd;
      padding: 20px;
      margin-top: 20px;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<div class="container">
  <h1 class="text-center mt-5">Battery Capacity Calculator</h1>
  
  <div class="form-group mt-4">
    <label for="designCapacity">Design Capacity (in mWh):</label>
    <input type="number" id="designCapacity" class="form-control" placeholder="Enter design capacity" value="61834" oninput="toggleCalculateButton()">
  </div>
  
  <div class="form-group">
    <label for="fullCapacity">Full Charge Capacity (in mWh):</label>
    <input type="number" id="fullCapacity" class="form-control" placeholder="Enter full charge capacity" value="33774" oninput="toggleCalculateButton()">
  </div>
  
  <button id="calculateButton" class="btn btn-primary" onclick="calculateBatteryPercentage()" disabled>Calculate Battery Percentage</button>
  <button class="btn btn-secondary" onclick="clearFields()">Clear</button>

  <div id="result" class="result-box mt-4 text-center">
    <h4>Battery Percentage:</h4>
    <p id="batteryPercentage" class="display-4">-</p>
    <h5>Recommendation:</h5>
    <p id="recommendation">-</p>
  </div>
</div>

<script>
  function toggleCalculateButton() {
    const designCapacity = document.getElementById('designCapacity').value;
    const fullCapacity = document.getElementById('fullCapacity').value;

    // Enable the calculate button only if both fields have values
    document.getElementById('calculateButton').disabled = !(designCapacity && fullCapacity);
  }

  function calculateBatteryPercentage() {
    const designCapacity = parseFloat(document.getElementById('designCapacity').value);
    const fullCapacity = parseFloat(document.getElementById('fullCapacity').value);

    // Calculate battery percentage
    const batteryPercentage = ((fullCapacity / designCapacity) * 100).toFixed(2);
    document.getElementById('batteryPercentage').innerText = batteryPercentage + ' %';

    // Provide a recommendation based on updated battery health guidelines
    let recommendation;
    if (batteryPercentage >= 80) {
      recommendation = "Battery health is optimal. No replacement is necessary.";
    } else if (batteryPercentage >= 50 && batteryPercentage < 80) {
      recommendation = "Battery health is moderate. Consider a replacement for critical use.";
    } else {
      recommendation = "Battery health is low. It's advised to replace the battery soon or consider a new laptop.";
    }

    // Display recommendation
    document.getElementById('recommendation').innerText = recommendation;
  }

  function clearFields() {
    document.getElementById('designCapacity').value = '';
    document.getElementById('fullCapacity').value = '';
    document.getElementById('batteryPercentage').innerText = '-';
    document.getElementById('recommendation').innerText = '-';
    document.getElementById('calculateButton').disabled = true;
  }
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
